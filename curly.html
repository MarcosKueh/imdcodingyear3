<!DOCTYPE html>
<html lang="en">
	<head>
		 <script src="p5.min.js"></script>
		 <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.10.2/addons/p5.sound.min.js"></script>
		 <script src="https://unpkg.com/ml5@latest/dist/ml5.min.js" type="text/javascript"></script>
		<title>Inside of Us</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link type="text/css" rel="stylesheet" href="main.css">

		<script src="mask2.js"></script>
		<audio autoplay="true" src="sound.mp3"></audio>
	</head>
	<style>
	*{
		margin: 0px;
		padding: 0px;
		overflow: hidden;
    font-family: Raleway;
	}

	p{
    font-family: Raleway;
		font-weight: bold;
		color: yellow;
	}

	p1{
    font-family: Raleway;
		font-weight: bold;
		color: lightblue;
	}


h1{
	font-family: Raleway;
	font-style: italic;
	font-weight: normal;
	color: yellow;
}
	#mydivheader,#mydiv2header,#mydiv3header, #mydiv4header, #mydiv5header{
				 cursor: move;
		 }

		 #mydiv5 {
 position: absolute;
 z-index: 8;
 left: 50%;
 top: 60%;
 background-color: lightblue;
 text-align: center;
 	 }
 	 #text{
 		 width: 400px;
 		 height: 300px;
 		 overflow: scroll;
 	 }

#mydiv {
position: absolute;
z-index: 11;
left: 70%;
top: 10%;
background-color: rebeccapurple;
text-align: center;

		 }
			#mydiv2 {
position: absolute;
z-index: 9;
left: 80%;
top: 50%;
background-color: magenta;
text-align: center;
		 }
		 #mydiv3 {
position: absolute;
z-index: 8;
left: 5%;
top: 10%;
background-color: deeppink;
text-align: center;
		 }
		 #mydiv4 {
position: absolute;
z-index: 8;
left: 120px;
top: 300px;
background-color: mediumpurple;
text-align: center;
		}
		#text{
			width: 400px;
			height: 300px;
			overflow: scroll;
		}
        
        #div6 {
position: absolute;
z-index: 8;
left: 2%;
top: 85%;
mix-blend-mode: screen;
		}

	#defaultCanvas0{
		position: absolute;
		top:2%;
		left:10%;
		z-index: 900px;
		visibility: inherit;
		display: block;
	}

	</style>
	<body>
		<div id="mydiv">
       <div id="mydivheader"><p1>Mother Antropocene</p1></div>
       <img src="1.gif" class='tri' width="300" height="400">

</div>
      <div id="mydiv2">
       <div id="mydiv2header"><p1>Human Cyborgs</p1></div>
       <img src="4.gif" class='tri' width="300" height="500">

</div>
       <div id="mydiv3">
       <div id="mydiv3header"><p1>We Are All Machines</p1></div>
       <img src="3.gif" class='tri' width="300" height="300">

</div>

<div id="mydiv4">
<div id="mydiv4header"><p>SCRIPT</p></div>
<div id="text">
<h1>"If climate change demands of every human on this earth that we put aside some of our national affiliations and look at this as something that we need to tackle transnationally, beyond the borders that have made sense to us up until now, I'm still not sure that we can do that without recognizing the history of relationships between indigenous and non-indigenous people. If there's going to be climate-change cooperation, it needs to be done within the context of the call for decolonization."</h1>
</div>
</div>

<div id="mydiv5">
<div id="mydiv5header"><p>SCRIPT</p></div>
<div id="text">
<h1>"As these scientists define life, a paramecium is alive as a human is alive as a corporation is alive as a nation is alive as a forest is alive as a wetland is alive. The sine qua non of life is that it is an assemblage of natural machines (organs, microbes, participants, bacteria, citizens, cells, stone, bodies, paper, stockholders, scissors, mujahideen) seeking its perpetuation in the face of death."</h1>
</div>
</div>
    
       <div id="div6">
           <a href="index.html"><img src="arrow.gif" class='tri' width="150" height="100"></a>

</div>

<script>
//Make the DIV element draggagle:
dragElement(document.getElementById("mydiv"));

function dragElement(elmnt) {
 var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
 if (document.getElementById(elmnt.id + "header")) {
	 /* if present, the header is where you move the DIV from:*/
	 document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
 } else {
	 /* otherwise, move the DIV from anywhere inside the DIV:*/
	 elmnt.onmousedown = dragMouseDown;
 }

 function dragMouseDown(e) {
	 e = e || window.event;
	 e.preventDefault();
	 // get the mouse cursor position at startup:
	 pos3 = e.clientX;
	 pos4 = e.clientY;
	 document.onmouseup = closeDragElement;
	 // call a function whenever the cursor moves:
	 document.onmousemove = elementDrag;
 }

 function elementDrag(e) {
	 e = e || window.event;
	 e.preventDefault();
	 // calculate the new cursor position:
	 pos1 = pos3 - e.clientX;
	 pos2 = pos4 - e.clientY;
	 pos3 = e.clientX;
	 pos4 = e.clientY;
	 // set the element's new position:
	 elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
	 elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
 }

 function closeDragElement() {
	 /* stop moving when mouse button is released:*/
	 document.onmouseup = null;
	 document.onmousemove = null;
 }
}
</script>
		 <script>
//Make the DIV element draggagle:
dragElement(document.getElementById("mydiv2"));

function dragElement(elmnt) {
 var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
 if (document.getElementById(elmnt.id + "header")) {
	 /* if present, the header is where you move the DIV from:*/
	 document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
 } else {
	 /* otherwise, move the DIV from anywhere inside the DIV:*/
	 elmnt.onmousedown = dragMouseDown;
 }

 function dragMouseDown(e) {
	 e = e || window.event;
	 e.preventDefault();
	 // get the mouse cursor position at startup:
	 pos3 = e.clientX;
	 pos4 = e.clientY;
	 document.onmouseup = closeDragElement;
	 // call a function whenever the cursor moves:
	 document.onmousemove = elementDrag;
 }

 function elementDrag(e) {
	 e = e || window.event;
	 e.preventDefault();
	 // calculate the new cursor position:
	 pos1 = pos3 - e.clientX;
	 pos2 = pos4 - e.clientY;
	 pos3 = e.clientX;
	 pos4 = e.clientY;
	 // set the element's new position:
	 elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
	 elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
 }

 function closeDragElement() {
	 /* stop moving when mouse button is released:*/
	 document.onmouseup = null;
	 document.onmousemove = null;
 }
}
</script>
		 <script>
//Make the DIV element draggagle:
dragElement(document.getElementById("mydiv3"));

function dragElement(elmnt) {
 var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
 if (document.getElementById(elmnt.id + "header")) {
	 /* if present, the header is where you move the DIV from:*/
	 document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
 } else {
	 /* otherwise, move the DIV from anywhere inside the DIV:*/
	 elmnt.onmousedown = dragMouseDown;
 }

 function dragMouseDown(e) {
	 e = e || window.event;
	 e.preventDefault();
	 // get the mouse cursor position at startup:
	 pos3 = e.clientX;
	 pos4 = e.clientY;
	 document.onmouseup = closeDragElement;
	 // call a function whenever the cursor moves:
	 document.onmousemove = elementDrag;
 }

 function elementDrag(e) {
	 e = e || window.event;
	 e.preventDefault();
	 // calculate the new cursor position:
	 pos1 = pos3 - e.clientX;
	 pos2 = pos4 - e.clientY;
	 pos3 = e.clientX;
	 pos4 = e.clientY;
	 // set the element's new position:
	 elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
	 elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
 }

 function closeDragElement() {
	 /* stop moving when mouse button is released:*/
	 document.onmouseup = null;
	 document.onmousemove = null;
 }
}
</script>
<script>
//Make the DIV element draggagle:
dragElement(document.getElementById("mydiv4"));

function dragElement(elmnt) {
var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
if (document.getElementById(elmnt.id + "header")) {
/* if present, the header is where you move the DIV from:*/
document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
} else {
/* otherwise, move the DIV from anywhere inside the DIV:*/
elmnt.onmousedown = dragMouseDown;
}

function dragMouseDown(e) {
e = e || window.event;
e.preventDefault();
// get the mouse cursor position at startup:
pos3 = e.clientX;
pos4 = e.clientY;
document.onmouseup = closeDragElement;
// call a function whenever the cursor moves:
document.onmousemove = elementDrag;
}

function elementDrag(e) {
e = e || window.event;
e.preventDefault();
// calculate the new cursor position:
pos1 = pos3 - e.clientX;
pos2 = pos4 - e.clientY;
pos3 = e.clientX;
pos4 = e.clientY;
// set the element's new position:
elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
}

function closeDragElement() {
/* stop moving when mouse button is released:*/
document.onmouseup = null;
document.onmousemove = null;
}
}
</script>
<script>
//Make the DIV element draggagle:
dragElement(document.getElementById("mydiv5"));

function dragElement(elmnt) {
var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
if (document.getElementById(elmnt.id + "header")) {
/* if present, the header is where you move the DIV from:*/
document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
} else {
/* otherwise, move the DIV from anywhere inside the DIV:*/
elmnt.onmousedown = dragMouseDown;
}

function dragMouseDown(e) {
e = e || window.event;
e.preventDefault();
// get the mouse cursor position at startup:
pos3 = e.clientX;
pos4 = e.clientY;
document.onmouseup = closeDragElement;
// call a function whenever the cursor moves:
document.onmousemove = elementDrag;
}

function elementDrag(e) {
e = e || window.event;
e.preventDefault();
// calculate the new cursor position:
pos1 = pos3 - e.clientX;
pos2 = pos4 - e.clientY;
pos3 = e.clientX;
pos4 = e.clientY;
// set the element's new position:
elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
}

function closeDragElement() {
/* stop moving when mouse button is released:*/
document.onmouseup = null;
document.onmousemove = null;
}
}
</script>




		<script type="module">

			import * as THREE from '/js/three.module.js';

			import Stats from '/js/stats.module.js';

			let camera, scene, renderer, stats, root;

			let mouseX = 0, mouseY = 0;

			let windowHalfX = window.innerWidth / 2;
			let windowHalfY = window.innerHeight / 2;

			init();
			animate();


			function init() {

				camera = new THREE.PerspectiveCamera( 1000, window.innerWidth / window.innerHeight, 1, 15000 );
				camera.position.z = 500;


				scene = new THREE.Scene();
				scene.background = new THREE.Color( 0x000000 );

				const geometry = new THREE.TorusKnotBufferGeometry( 100, 20, 400, 50 );
				const material = new THREE.MeshNormalMaterial();


				root = new THREE.Mesh( geometry, material );
				root.position.x = 1000;
				scene.add( root );

				const amount = 200;
				let object, parent = root;

				for ( let i = 0; i < amount; i ++ ) {

					object = new THREE.Mesh( geometry, material );
					object.position.x = 100;

					parent.add( object );
					parent = object;

				}

				parent = root;

				for ( let i = 0; i < amount; i ++ ) {

					object = new THREE.Mesh( geometry, material );
					object.position.x = - 100;

					parent.add( object );
					parent = object;

				}

				parent = root;

				for ( let i = 0; i < amount; i ++ ) {

					object = new THREE.Mesh( geometry, material );
					object.position.y = - 100;

					parent.add( object );
					parent = object;

				}

				parent = root;

				for ( let i = 0; i < amount; i ++ ) {

					object = new THREE.Mesh( geometry, material );
					object.position.y = 100;

					parent.add( object );
					parent = object;

				}

				parent = root;

				for ( let i = 0; i < amount; i ++ ) {

					object = new THREE.Mesh( geometry, material );
					object.position.z = - 100;

					parent.add( object );
					parent = object;

				}

				parent = root;

				for ( let i = 0; i < amount; i ++ ) {

					object = new THREE.Mesh( geometry, material );
					object.position.z = 100;

					parent.add( object );
					parent = object;

				}

				//

				renderer = new THREE.WebGLRenderer( { antialias: true } );
				renderer.setPixelRatio( window.devicePixelRatio );
				renderer.setSize( window.innerWidth, window.innerHeight );
				document.body.appendChild( renderer.domElement );

				//

				stats = new Stats();
				document.body.appendChild( stats.dom );

				//

				document.addEventListener( 'mousemove', onDocumentMouseMove, false );

				//

				window.addEventListener( 'resize', onWindowResize, false );

			}

			function onWindowResize() {

				windowHalfX = window.innerWidth / 3;
				windowHalfY = window.innerHeight / 3;

				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();

				renderer.setSize( window.innerWidth, window.innerHeight );

			}

			function onDocumentMouseMove( event ) {

				mouseX = ( event.clientX - windowHalfX ) * 5;
				mouseY = ( event.clientY - windowHalfY ) * 5;

			}

			//

			function animate() {

				requestAnimationFrame( animate );

				render();
				stats.update();

			}

			function render() {

				const time = Date.now() * 0.00001 + 10000;

				const rx = Math.sin( time * 0.3 ) * 0.2;
				const ry = Math.sin( time * 0.3 ) * 0.1;
				const rz = Math.sin( time * 0.2 ) * 0.1;

				camera.position.x += ( mouseX - camera.position.x ) * 0.005;
				camera.position.y += ( - mouseY - camera.position.y ) * 0.005;

				camera.lookAt( scene.position );

				root.traverse( function ( object ) {

					object.rotation.x = rx;
					object.rotation.y = ry;
					object.rotation.z = rz;

				} );

				renderer.render( scene, camera );

			}

		</script>

	</body>
</html>
